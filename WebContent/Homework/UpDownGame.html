<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UpDownGame.html</title>
    <style>
        span#hereTryNum{
            font-size:30px;
        }
    </style>
    <script>
        
        var randNum=parseInt(Math.random()*100)+1;//난수생성
        //1+Math.abs(Math.floor(Math.random()*100)); 인터넷참고
        var hereTryNum=0; //몇번 시도했는지 카운트
        //var retry=document.getElementById("retry"); //retry button의 display style 바꿀 변수

        function UpDownGame() {
            if(hereTryNum<7){ //7번이 될 때 까지
                var retry=document.getElementById("retry");
                var img_tag=document.getElementById("udImg"); //이미지src 바꿀 변수
                var upDownNum
                    =parseInt(document.getElementById("upDownNum").value); //user에게서 받아오는 숫자
                
                if(!(upDownNum>=1&&upDownNum<=100)){
                    alert("1~100 사이의 정수를 입력해주세요"); //1~100 구간 밖의 숫자 에러처리
                    img_tag.src="../images/error.jpg";
                }
                else{
                    if (upDownNum > randNum) { 
                        img_tag.src="../images/down.jpg";
                    }
                    else if (upDownNum < randNum) {
                        img_tag.src="../images/up.jpg";
                    }
                    else if (upDownNum == randNum){
                        alert("정답입니다!");
                        img_tag.src="../images/answer.jpeg";
                        if(retry.style.display=="none"){
                            retry.style.display="inline";
                        }
                    }
                    hereTryNum++;
                    document.getElementById("hereTryNum").innerHTML=hereTryNum; //hereTryNum 자리에 횟수 출력
                }
            }
            else {
                alert("시도횟수가 초과하였습니다 게임을 재시작 합니다.");
                location.reload();
            } 
        }
    </script>
</head>
<body>
    <h2>업다운 게임</h2>
    <h4>1~100사이의 숫자를 입력하세요</p>
    <p>시도횟수: <span id="hereTryNum">0</span>회</p>
    <div>
        <label for="upDownNum">숫자입력: </label>
        <input type="number" id="upDownNum">
        <button id="submit" onclick="UpDownGame()">확인</button>
        <button id="retry" onclick="window.location.reload()" style="display: none;">새로고침</button>
    </div>
    <br>
    <img src="../images/updowngame.jpg" alt="업다운게임 메인이미지" id="udImg" width="300">
</body>
</html>